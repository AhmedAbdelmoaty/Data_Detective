import { Case } from "@shared/schema";

// Case001 (Level 1)
// هدف الكيس: تدريب اللاعب على الاستبعاد بالدليل (Disconfirming Evidence)
// مع مصادر معلومات متعددة (أدلة + مقابلات + بيانات) بدون "هنت" مباشر في النصوص.

export const case001: Case = {
  id: "case001",
  title: "شركة الأمل العقارية",
  briefing: {
    sender: "الرئيس التنفيذي",
    text: "بعد الحملة الجديدة، الاستفسارات زادت بشكل واضح… لكن المبيعات قلت. عايزين نفهم السبب الحقيقي قبل ما نلوم أي فريق. قدامنا كام احتمال، ومحتاجين تقرير واضح في الآخر.",
  },
  resources: {
    initialTime: 100,
    initialTrust: 100,
  },

  // فرضيات بسيطة وواضحة (Level 1)
  hypotheses: [
    {
      id: "h1",
      title: "المشكلة من فريق المبيعات",
      description: "الفريق لا يتعامل جيداً مع الضغط أو لا يحول الاستفسارات إلى صفقات",
      icon: "UserX",
      isCorrect: false,
    },
    {
      id: "h2",
      title: "التسويق جاب ناس مش مناسبة للشراء",
      description: "الاستفسارات كثيرة لكن نوعيتها ضعيفة، فالمبيعات لا تتحول",
      icon: "Target",
      isCorrect: true,
    },
    {
      id: "h3",
      title: "ركود في السوق",
      description: "السوق بشكل عام أهدى، والناس بتشتري أقل من المعتاد",
      icon: "TrendingDown",
      isCorrect: false,
    },
    {
      id: "h4",
      title: "منافس جديد خطف العملاء",
      description: "منافس جديد ظهر وجذب العملاء بعيداً عن الشركة",
      icon: "Users",
      isCorrect: false,
    },
  ],

  // أدلة قليلة ومباشرة (معلومات خام بدون استنتاجات)
  evidence: [
    {
      id: "ev1",
      title: "ملف: متابعة أداء فريق المبيعات",
      description:
        "ملخص داخلي دوري: خلال الشهور الماضية، مستوى أداء فريق المبيعات كان ثابت تقريباً. نفس أفراد الفريق. ولم تحدث تغييرات في نظام المتابعة أو تقسيم الشغل.",
      type: "report",
      cost: 10,
      isKey: true,
      reportNote: "ملف المبيعات: الأداء ثابت تقريبًا… ومفيش تغيير في الفريق أو طريقة المتابعة.",
    },
    {
      id: "ev2",
      title: "ملف: ملخص السوق – ملاحظات عامة",
      description:
        "صفحة متابعة مختصرة: حركة البيع والشراء في السوق أهدى من المعتاد في الفترة الأخيرة، لكن في نفس الوقت شركات كتير لسه بتبيع بشكل طبيعي. مفيش إشارات عامة إن السوق واقف تماماً.",
      type: "report",
      cost: 10,
      isKey: true,
      reportNote: "ملف السوق: السوق أهدى شوية… بس مش واقف، وفي شركات بتبيع بشكل طبيعي.",
    },
    {
      id: "ev3",
      title: "ملف: متابعة منافس جديد",
      description:
        "ملاحظة من فريق التسويق مع لقطة لإعلان: منافس جديد بدأ يعلن بقوة في نفس المنطقة، وفي كلام عنه على السوشيال.",
      type: "document",
      cost: 5,
      isKey: false,
      reportNote: "ملف المنافس: في منافس جديد بيعلن بقوة في نفس المنطقة.",
    },
  ],

  // البيانات (Chartين بسيطين + رؤيتين خام)
  dataSets: [
    {
      name: "الاستفسارات والمبيعات",
      description: "مقارنة بسيطة بين عدد الاستفسارات والمبيعات خلال فترة قصيرة.",
      rows: [
        { id: 1, date: "أسبوع 1", leads: 40, sales: 6 },
        { id: 2, date: "أسبوع 2", leads: 45, sales: 6 },
        { id: 3, date: "أسبوع 3", leads: 80, sales: 3 },
        { id: 4, date: "أسبوع 4", leads: 95, sales: 2 },
      ],
      insights: [
        {
          id: "insight_a",
          description: "بعد الحملة الجديدة: الاستفسارات زادت، والمبيعات قلت.",
          reportNote: "بيانات: بعد الحملة الاستفسارات زادت… والمبيعات قلت.",
        },
      ],
    },
    {
      name: "جودة الاستفسارات",
      description: "تصنيف بسيط للاستفسارات إلى مناسبة وغير مناسبة للشراء.",
      rows: [
        { id: 1, category: "مناسبة للشراء", count: 28 },
        { id: 2, category: "غير مناسبة", count: 67 },
      ],
      insights: [
        {
          id: "insight_b",
          description: "بعد الحملة الجديدة: نسبة الاستفسارات غير المناسبة زادت.",
          reportNote: "بيانات: بعد الحملة نسبة الاستفسارات غير المناسبة زادت.",
        },
      ],
    },
  ],

  // مقابلات (سؤالين لكل شخصية – بأسلوب نقاش، معلومات خام)
  stakeholders: [
    {
      id: "s1",
      name: "سارة (مديرة التسويق)",
      role: "مديرة التسويق",
      avatar:
        "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop",
      questions: [
        {
          id: "q1_1",
          text: "احكيلي باختصار الحملة الجديدة كانت فكرتها إيه؟",
          response:
            "ركزنا على إن الإعلان يوصل لناس أكتر ويجيب استفسارات أكتر… وفعلاً الاستفسارات زادت بسرعة.",
          cost: 10,
          reportNote: "سارة (التسويق): الحملة كان هدفها توصل لناس أكتر… وفعلاً الاستفسارات زادت بسرعة.",
        },
        {
          id: "q1_2",
          text: "طيب… الاستفسارات دي كانت شبه اللي بتجيلكم قبل كده؟",
          response:
            "من ناحية العدد أعلى بكتير… بس مش كلهم كانوا جادين.",
          cost: 10,
          reportNote: "سارة (التسويق): الاستفسارات أعلى بكتير… بس مش كلهم كانوا جادين.",
        },
      ],
    },
    {
      id: "s2",
      name: "أحمد (مدير المبيعات)",
      role: "مدير المبيعات",
      avatar:
        "https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop",
      questions: [
        {
          id: "q2_1",
          text: "إيه اللي حاصل عندكم من يوم ما زادت الاستفسارات؟",
          response:
            "الضغط زاد جدًا. التليفونات شغالة طول اليوم، والفريق بيحاول يلحق…",
          cost: 10,
          reportNote: "أحمد (المبيعات): الضغط زاد جدًا… والتليفونات شغالة طول اليوم.",
        },
        {
          id: "q2_2",
          text: "طب هل الفريق أو طريقة الشغل اتغيرت الفترة دي؟",
          response:
            "لا. نفس الفريق ونفس طريقة المتابعة تقريباً… بس نوع الأسئلة بقى عام وأقل جدية.",
          cost: 10,
          reportNote: "أحمد (المبيعات): نفس الفريق والمتابعة… بس نوع الأسئلة بقى عام وأقل جدية.",
        },
        {
          id: "q2_3",
          text: "هل في عملاء بيقولوا إنهم راحوا لمنافس؟",
          response: "لا، مش بشكل واضح… نادر لما حد يذكر منافس.",
          cost: 10,
          reportNote: "أحمد (المبيعات): مفيش كلام واضح عن منافس… نادر لما حد يذكر منافس.",
        },
      ],
    },
  ],

  // خريطة بسيطة لتقييم التقرير (Level 1)
  // الهدف: رد المدير يكون بشري، لكن مبني على "هل المبرر مرتبط وكفاية ولا لأ".
  scoringItems: [
    {
      kind: "evidence",
      id: "ev1",
      reportText: "ملف المبيعات: الأداء ثابت تقريبًا… ومفيش تغيير في الفريق أو طريقة المتابعة.",
      support: { h1: "none", h2: "none", h3: "none", h4: "none" },
      eliminate: { h1: "strong", h2: "none", h3: "none", h4: "none" },
    },
    {
      kind: "evidence",
      id: "ev2",
      reportText: "ملف السوق: السوق أهدى شوية… بس مش واقف، وفي شركات بتبيع بشكل طبيعي.",
      support: { h1: "none", h2: "none", h3: "weak", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "strong", h4: "none" },
    },
    {
      kind: "evidence",
      id: "ev3",
      reportText: "ملف المنافس: في منافس جديد بيعلن بقوة في نفس المنطقة.",
      support: { h1: "none", h2: "none", h3: "none", h4: "weak" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "none" },
    },
    {
      kind: "data",
      id: "insight_a",
      reportText: "بيانات: بعد الحملة الاستفسارات زادت… والمبيعات قلت.",
      support: { h1: "weak", h2: "weak", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "weak", h4: "none" },
    },
    {
      kind: "data",
      id: "insight_b",
      reportText: "بيانات: بعد الحملة نسبة الاستفسارات غير المناسبة زادت.",
      support: { h1: "none", h2: "strong", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "weak" },
    },
    {
      kind: "interview",
      id: "q1_1",
      reportText: "سارة (التسويق): الحملة كان هدفها توصل لناس أكتر… وفعلاً الاستفسارات زادت بسرعة.",
      support: { h1: "none", h2: "weak", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "none" },
    },
    {
      kind: "interview",
      id: "q1_2",
      reportText: "سارة (التسويق): الاستفسارات أعلى بكتير… بس مش كلهم كانوا جادين.",
      support: { h1: "none", h2: "strong", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "weak" },
    },
    {
      kind: "interview",
      id: "q2_1",
      reportText: "أحمد (المبيعات): الضغط زاد جدًا… والتليفونات شغالة طول اليوم.",
      support: { h1: "weak", h2: "none", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "none" },
    },
    {
      kind: "interview",
      id: "q2_2",
      reportText: "أحمد (المبيعات): نفس الفريق والمتابعة… بس نوع الأسئلة بقى عام وأقل جدية.",
      support: { h1: "none", h2: "strong", h3: "none", h4: "none" },
      eliminate: { h1: "strong", h2: "none", h3: "none", h4: "none" },
    },
    {
      kind: "interview",
      id: "q2_3",
      reportText: "أحمد (المبيعات): مفيش كلام واضح عن منافس… نادر لما حد يذكر منافس.",
      support: { h1: "none", h2: "none", h3: "none", h4: "none" },
      eliminate: { h1: "none", h2: "none", h3: "none", h4: "strong" },
    },
  ],

  solution: {
    correctHypothesisId: "h2",
    feedbackCorrect:
      "تمام! وصلت لتفسير متماسك: المشكلة الأساسية إن الاستفسارات زادت لكن نوعيتها بقت أضعف بعد الحملة. لما استبعدت فرضيات السوق، والمنافس، وضعف الفريق بناءً على المعلومات، بقت فرضية (جودة العملاء) هي الأوضح.",
    feedbackIncorrect:
      "النتيجة دي لسه مش متسقة مع كل المعلومات. جرّب تراجع الفرضيات المتنافسة، وركّز على الأدلة/البيانات اللي ممكن تستبعد فرضية كاملة بدل ما تدعم فرضية واحدة.",
  },
};
